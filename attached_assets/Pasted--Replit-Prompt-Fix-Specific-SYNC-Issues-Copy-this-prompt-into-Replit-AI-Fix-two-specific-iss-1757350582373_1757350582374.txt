# Replit Prompt: Fix Specific SYNC Issues

## Copy this prompt into Replit AI:

Fix two specific issues with the SYNC module:

**Issue 1: Meeting Details Shows Wrong Meeting**
The Details modal is showing wrong meeting data when clicked. Fix the meeting ID matching:

1. **Debug the meeting ID format** in `/api/sync/meeting-details/:meetingId`
2. **Add logging** to see what meetingId is received vs available meeting IDs
3. **Fix the matching logic** - try multiple matching strategies:
```javascript
// Try multiple ways to find the meeting
const meeting = calendarMeetings.find(m => m.id === meetingId) ||
                calendarMeetings.find(m => m.id.includes(meetingId)) ||
                calendarMeetings.find(m => meetingId.includes(m.id)) ||
                calendarMeetings.find(m => m.title === decodeURIComponent(meetingId));
```

**Issue 2: Airtable Field Permission Error**
"Insufficient permissions to create new select option 'Meeting Import'" - fix the contact creation fields:

1. **Change Contact Source field** from "Meeting Import" to an existing option like "Referral" or "Event"
2. **Remove any fields** that might be single-select with limited options
3. **Use only basic text fields** for contact creation:
```javascript
const contactData = {
  'Name': contactName || 'Unnamed Contact',
  'Email': contactEmail || '',
  'Company': 'Unknown Company',
  'Last Contacted': meetingDate,
  'Relationship Type': 'Prospect',  // Use basic option
  'Contact Source': 'Referral',     // Use existing option
  'Notes': notes,
  'Contact Status': 'Active'
};
```

**Issue 3: Better Error Handling**
Add fallback for both scenarios:
- If meeting not found, use the meetingId as title
- If Airtable field fails, retry with minimal required fields only

**Expected Results:**
1. Details modal should show the correct meeting data for the clicked meeting
2. Create Contact should work without permission errors
3. Contact should be created with proper name extraction (Tejas, Brooklyn, etc.)

**Test Cases:**
- Click Details on "Tejas | RTLC Coaching Session" → Should show Tejas meeting data
- Click Create Record → Should create contact without errors